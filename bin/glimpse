#!/usr/bin/python

# Copyright (c) 2011 Mick Thomure
# All rights reserved.
#
# Please see the file COPYING in this distribution for usage
# terms.

# This is a frontend script for model-specific operations.

import sys
from glimpse import util

DEFAULT_MODEL = "viz2"

try:
  opts, args = util.GetOptions("m:")
  model_name = DEFAULT_MODEL
  for opt, arg in opts:
    if opt == '-m':
      arg = arg.lower()
      if arg == "default":
        model_name = DEFAULT_MODEL
      else:
        model_name = arg
  mname = "%s_cmds" % model_name
  models = __import__("glimpse.models", globals(), locals(),
      [mname], 0)
  try:
    model = getattr(models, mname)
  except AttributeError:
    raise util.UsageException("Unknown model (-m): %s" % model_name)
except util.UsageException, e:
  util.Usage("[options]\n"
    "  -m MOD   Use model named MOD",
    e
  )

model.Main(args)
